<%- include('partials/header') %>
<div class="container">
  <h2>Add new car using <%= gasoline.name %></h2>

  <% if (error) { %>
  <div class="alert alert-danger my-2" role="alert">
    <% error.forEach(error => { %>
    <li><%= error %></li>
    <% }) %>
  </div>
  <% } %> <% if (info) { %>
  <div class="alert alert-success my-2" role="alert">
    <li><%= info %></li>
  </div>
  <% } %>
  <div class="mb-4">
    <form action="/vehicles/<%= gasoline.id %>" method="POST">
      <div class="form-group">
        <label for="">Name</label>
        <input type="text" name="name" class="form-control" />
      </div>

      <div class="form-group">
        <label for="">Max Fuel</label>
        <input type="number" name="maxFuel" class="form-control" />
      </div>
      <input type="submit" class="btn btn-primary" value="Add new Car" />
    </form>
  </div>

  <div>
    <h2 class="mb-3">List All Car Using <%= gasoline.name %></h2>

    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th class="text-right">Fuel</th>
          <th class="text-right">Max Fuel</th>
          <th class="text-right">Fuel Percentage</th>
          <th>Action</th>
        </tr>
      </thead>

      <% gasoline.Vehicles.forEach(vehicle => { %>
      <tr>
        <td><%= vehicle.id %></td>
        <td><%= vehicle.name %></td>
        <td class="text-right"><%= vehicle.fuel %></td>
        <td class="text-right"><%= vehicle.maxFuel %></td>
        <td class="text-right"><%= vehicle.fuelPercentage() %></td>
        <td>
          <a href="/vehicles/<%= vehicle.id %>/addFuel/" class="btn btn-outline-primary">Add More Fuel</a>
          <a href="/vehicles/<%= vehicle.id %>/delete" class="btn btn-outline-danger">Remove Car</a>
        </td>
      </tr>
      <% }) %>
    </table>
  </div>
</div>

<%- include('partials/footer') %>
